<% provide(:title, "Orders") %>

<h1>Orders</h1>

<table>
  <tr>
    <th>ID</th>
    <th>Customer Name</th>
    <th>Customer Email</th>
    <th>Movie</th>
    <th>Showtime</th>
    <th>Quantity</th>
    <th>Total Cost</th>
    <th>Purchase Date</th>
  </tr>
  <% if @orders.any? %>
    <% @orders.each do |order| %>
      <tr>
        <td><%= order.id %></td>
        <td><%= order.customer.name %></td>
        <td><%= order.customer.email %></td>
        <td><%= order.showtime.movie.name %></td>
        <td><%= formatted_date_time(order.showtime.date_time) %></td>
        <td><%= order.quantity %></td>
        <td>$<%= to_dollars(order.total_cost) %></td>
        <td><%= formatted_date_time(order.created_at) %></td>
      </tr>
    <% end %>
  <% else %>
    <tr>
      <td colspan="8">No orders have been placed yet!</td>
    </tr>
  <% end %>
</table>
